<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FastUIDraw: fastuidraw::egl_binding Namespace Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FastUIDraw
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d4/d4c/namespacefastuidraw.html">fastuidraw</a></li><li class="navelem"><a class="el" href="../../d5/dac/namespacefastuidraw_1_1egl__binding.html">egl_binding</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">fastuidraw::egl_binding Namespace Reference<div class="ingroups"><a class="el" href="../../d5/de7/group___g_l_utility.html">GL Utility</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Provides interface for application to use EGL where function pointers are auto-resolved transparently and under debug provides error checking. Built as a seperate libNEGL.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/ded/classfastuidraw_1_1egl__binding_1_1_callback_e_g_l.html">CallbackEGL</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A <a class="el" href="../../d1/ded/classfastuidraw_1_1egl__binding_1_1_callback_e_g_l.html" title="A CallbackEGL defines the interface (via its base class) for callbacks before and after each EGL call...">CallbackEGL</a> defines the interface (via its base class) for callbacks before and after each EGL call.  <a href="../../d1/ded/classfastuidraw_1_1egl__binding_1_1_callback_e_g_l.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a860e2a56f773dd63cb54a41967dcfdb4"><td class="memItemLeft" align="right" valign="top">EGLint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dac/namespacefastuidraw_1_1egl__binding.html#a860e2a56f773dd63cb54a41967dcfdb4">get_error</a> (void)</td></tr>
<tr class="separator:a860e2a56f773dd63cb54a41967dcfdb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9616a96aa1663679e2ac2557604d1d6"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dac/namespacefastuidraw_1_1egl__binding.html#af9616a96aa1663679e2ac2557604d1d6">get_proc</a> (<a class="el" href="../../d4/d4c/namespacefastuidraw.html#af4f69794f023ec29dddc1b586305e35a">c_string</a> function)</td></tr>
<tr class="separator:af9616a96aa1663679e2ac2557604d1d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c196149301afbe7cda557bb76ddfcad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dac/namespacefastuidraw_1_1egl__binding.html#a0c196149301afbe7cda557bb76ddfcad">get_proc_function</a> (void *(*<a class="el" href="../../d5/dac/namespacefastuidraw_1_1egl__binding.html#af9616a96aa1663679e2ac2557604d1d6">get_proc</a>)(<a class="el" href="../../d4/d4c/namespacefastuidraw.html#af4f69794f023ec29dddc1b586305e35a">c_string</a>), bool fetch_functions=true)</td></tr>
<tr class="separator:a0c196149301afbe7cda557bb76ddfcad"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Provides interface for application to use EGL where function pointers are auto-resolved transparently and under debug provides error checking. Built as a seperate libNEGL. </p>
<p>Short version:</p><ul>
<li>application should call <a class="el" href="../../d5/dac/namespacefastuidraw_1_1egl__binding.html#a0c196149301afbe7cda557bb76ddfcad">fastuidraw::egl_binding::get_proc_function()</a> to set the function which will be used to fetch EGL function pointers.</li>
<li>If an application wishes, it can include &lt;fastuidraw/ngl_egl.hpp&gt;. The header will replace EGL functions with macros. Under release the macros are to function pointers that automatically set themselves up correcty. For debug, the macros preceed and postceed each EGL function call with error checking call backs so an application writer can quickly know what line/file triggered an EGL error. If an application does not wish to use the macro system (and will also need to fetch function pointers somehow), it can just include EGL/egl.h (and optionally EGL/eglext.h).</li>
<li>When using libNEGL, because NEGL automatically calls eglGetError() after each EGL call, one cannot use eglGetError() calls to determine how to recover. To get functionality of eglGetError() and application should call <a class="el" href="../../d5/dac/namespacefastuidraw_1_1egl__binding.html#a860e2a56f773dd63cb54a41967dcfdb4">egl_binding::get_error()</a> which returns the most recent EGL error code (and resets its internal value to EGL_SUCCESS).</li>
</ul>
<p>Long Version:</p>
<p>The namespace <a class="el" href="../../d5/dac/namespacefastuidraw_1_1egl__binding.html" title="Provides interface for application to use EGL where function pointers are auto-resolved transparently...">egl_binding</a> provides an interface for an application to specify how to fetch EGL function pointers (see <a class="el" href="../../d5/dac/namespacefastuidraw_1_1egl__binding.html#a0c196149301afbe7cda557bb76ddfcad">fastuidraw::egl_binding::get_proc_function()</a>) and additional functionality of where to write/store EGL error messages. An application can also use this functionality by including &lt;fastuidraw/ngl_egl.hpp&gt;. The header will create a macro for each EGL function. If FASTUIDRAW_DEBUG is defined, each EGL call will be preceded by a callback and postceeded by another call back. The preceed callback to the EGL call will call the implementation of <a class="el" href="../../dc/d3e/classfastuidraw_1_1_a_p_i_callback_set_1_1_call_back.html#a5b195e73c93c9d0003c6cd973fbe256f">CallbackEGL::pre_call()</a> of each active <a class="el" href="../../d1/ded/classfastuidraw_1_1egl__binding_1_1_callback_e_g_l.html" title="A CallbackEGL defines the interface (via its base class) for callbacks before and after each EGL call...">CallbackEGL</a> object. The post-process callback will repeatedly call eglGetError (until it returns no error) to build an error-string. If the error string is non-empty, it is printed to stderr. In addition, regardless if the error-string is non-empty, <a class="el" href="../../dc/d3e/classfastuidraw_1_1_a_p_i_callback_set_1_1_call_back.html#a3cb6de4ae6b141b96e176b122a243beb">CallbackEGL::post_call()</a> of each active <a class="el" href="../../d1/ded/classfastuidraw_1_1egl__binding_1_1_callback_e_g_l.html" title="A CallbackEGL defines the interface (via its base class) for callbacks before and after each EGL call...">CallbackEGL</a> is called.</p>
<p>This is implemented by creating a macro for each EGL call. If FASTUIDRAW_DEBUG is not defined, none of these logging and error calls backs are executed. The mechanism is implemented by defining a macro for each EGL function, hence using a EGL function name as a function pointer will fail to compile and likely give an almost impossible to read error message.</p>
<p>To fetch the function pointer of a EGL function, use the macro <b>FASTUIDRAWeglfunctionPointer</b> together with <b>FASTUIDRAWeglfunctionExists</b>. The macro <b>FASTUIDRAWeglfunctionPointer</b> will NEVER return a nullptr pointer. For the cases where the EGL implementation does not have that function, the function pointer returned will then point to a do-nothing function. To check if a EGL implementation has a given function use the macro-function <b>FASTUIDRAWeglfunctionExists</b> which returns non-zero if the EGL implementation has the function. Some example code:</p>
<div class="fragment"><div class="line"><span class="comment">//get a function pointer for a EGL function</span></div><div class="line"><span class="comment">//which takes no arguments and returns nothing.</span></div><div class="line">void (*functionPointer)(void) = <span class="keyword">nullptr</span>;</div><div class="line"><span class="keywordflow">if</span> (FASTUIDRAWeglfunctionExists(eglSomething)</div><div class="line">  {</div><div class="line">    functionPointer = FASTUIDRAWeglfunctionPointer(eglSomeFunction);</div><div class="line">  }</div><div class="line"><span class="keywordflow">else</span></div><div class="line">  {</div><div class="line">    <span class="comment">//FASTUIDRAWeglfunctionPointer(eglSomeFunction) is NOT nullptr,</span></div><div class="line">    <span class="comment">//rather it maps to a no-op function.</span></div><div class="line">    <span class="comment">//in this example we leave the value of</span></div><div class="line">    <span class="comment">//functionPointer as nullptr to indicate the function</span></div><div class="line">    <span class="comment">//is not supported by the EGL implementation.</span></div><div class="line">  }</div></div><!-- fragment --><p>Calling a EGL function through a function pointer will bypass the EGL error checking ad callbacks though. One issue with using FASTUIDRAWeglfunctionExists is that a number of EGL implementations will return a function pointer, even if the implementation does not support it. As always, when fetching function pointers, one should check the EGL version and EGL extension string(s) to know if the EGL implementation supports that function.</p>
<p>The <a class="el" href="../../d5/dac/namespacefastuidraw_1_1egl__binding.html" title="Provides interface for application to use EGL where function pointers are auto-resolved transparently...">egl_binding</a> system requires that an application provides a function which the binding system uses to fetch function pointers for the EGL API, this is set via <a class="el" href="../../d5/dac/namespacefastuidraw_1_1egl__binding.html#a0c196149301afbe7cda557bb76ddfcad">egl_binding::get_proc_function()</a>. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a860e2a56f773dd63cb54a41967dcfdb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a860e2a56f773dd63cb54a41967dcfdb4">&#9670;&nbsp;</a></span>get_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EGLint fastuidraw::egl_binding::get_error </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the most recent EGL error code; an application should call <a class="el" href="../../d5/dac/namespacefastuidraw_1_1egl__binding.html#a860e2a56f773dd63cb54a41967dcfdb4">get_error()</a> instead of eglGetError() to understand EGL errors because NEGL dispatch automatically calls eglGetError after each EGL API call which resets the error. </p>

</div>
</div>
<a id="af9616a96aa1663679e2ac2557604d1d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9616a96aa1663679e2ac2557604d1d6">&#9670;&nbsp;</a></span>get_proc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* fastuidraw::egl_binding::get_proc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d4c/namespacefastuidraw.html#af4f69794f023ec29dddc1b586305e35a">c_string</a>&#160;</td>
          <td class="paramname"><em>function</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fetches a EGL function using the function fetcher passed to <a class="el" href="../../d5/dac/namespacefastuidraw_1_1egl__binding.html#a0c196149301afbe7cda557bb76ddfcad">get_proc_function()</a>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">function</td><td>name of function to fetch </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0c196149301afbe7cda557bb76ddfcad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c196149301afbe7cda557bb76ddfcad">&#9670;&nbsp;</a></span>get_proc_function()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fastuidraw::egl_binding::get_proc_function </td>
          <td>(</td>
          <td class="paramtype">void *(*)(<a class="el" href="../../d4/d4c/namespacefastuidraw.html#af4f69794f023ec29dddc1b586305e35a">c_string</a>)&#160;</td>
          <td class="paramname"><em>get_proc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>fetch_functions</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the function that the system uses to fetch the function pointers for EGL or EGLES. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">get_proc</td><td>value to use, default is nullptr. </td></tr>
    <tr><td class="paramname">fetch_functions</td><td>if true, fetch all EGL functions immediately instead of fetching on first call. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
